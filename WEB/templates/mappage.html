<!DOCTYPE html>
<html>
<head>
  <title>Bing Maps Example with Multiple Pushpins and Infoboxes</title>
  <script type='text/javascript' src='http://www.bing.com/api/maps/mapcontrol?callback=loadMapScenario' async defer></script>
  <script type='text/javascript'>
    function loadMapScenario() {
      var map = new Microsoft.Maps.Map(document.getElementById('myMap'), {
        credentials: 'AnYvwgAd9DpkZXHoyzrb1GK6sn_4gELsmNISBgkPbQRIznKrHxGpZ9hMZntFppm4',
        center: new Microsoft.Maps.Location(31.331708, 75.571589),
        zoom: 16
      });
      
      var pushpins = [
        {
          location: new Microsoft.Maps.Location(31.330140, 75.570002),
          title: 'Jaswant Hospital',
          description: 'Home of the Space Needle!'
        },
        {
          location: new Microsoft.Maps.Location(31.335351, 75.571573),
          title: 'City Hospital',
          description: 'Golden Gate Bridge and Alcatraz Island'
        },
        {
          location: new Microsoft.Maps.Location(31.334413, 75.564847),
          title: 'Tagore Hospital',
          description: 'Statue of Liberty and Empire State Building'
        }
      ];
      
      for (var i = 0; i < pushpins.length; i++) {
        var pushpin = new Microsoft.Maps.Pushpin(pushpins[i].location, {title: pushpins[i].title});
        var infobox = new Microsoft.Maps.Infobox(pushpins[i].location, {
          title: pushpins[i].title,
          description: pushpins[i].description
        });
        infobox.setMap(map);
        Microsoft.Maps.Events.addHandler(pushpin, 'click', function (e) {
          infobox.setOptions({
            visible: true
          });
        });
        map.entities.push(pushpin);
      }
    }
  </script>
</head>
<body onload='loadMapScenario();'>
  <div id='myMap' style='width: 800px; height: 600px;'></div>
</body>
</html>
